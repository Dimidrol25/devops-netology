## Задача 1  
 
- **Электронные чеки в json виде**:  
документоориентированная СУБД, где в качестве объекта хранения выступает документ определенного шаблона в конкретном формате json. А в качестве ключа выступает идентификатор;  


- **Склады и автомобильные дороги для логистической компании**:  
графовая СУБД, где адреса и названия складов будут представлять из себя узлы, а дороги, по которым происходит перемещение между этими складами, представляют ребра графовой структуры;  


- **Генеалогические деревья**:  
иерархическая- класические деревья с одним родителем;  


- **Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации**:  
СУБД ключ-значение, где ключ - это идентификатор, а значение - имя;  

- **Отношения клиент-покупка для интернет-магазина**:  
реляционная база-данных, так как у интернет-магазина много клиентов, много товаров(услуг), много заказов и каждая из этих сущностей обладает множеством свойств. То есть образуется множество связей и отношений, которые нужно фиксировать в момент покупки и проводить анализ продаж по различным срезам. SQL подходит лучше всего подходит для такой задачи.  

## Задача 2  

Согласно CAP-теореме:

- **Данные записываются на все узлы с задержкой до часа (асинхронная запись)**:  
CP обеспечивается согласованность и устойчивость к разделению в ущерб доступности;  


- **При сетевых сбоях, система может разделиться на 2 раздельных кластера**:  
AP обеспечивается доступность и устойчивость к разделению в ущерб согласованности;  


- **Система может не прислать корректный ответ или сбросить соединение**:
CP обеспечивается согласованность и устойчивость.  

Согласно PACELC-теореме:  

- **Данные записываются на все узлы с задержкой до часа (асинхронная запись)** - PC/EC  

- **При сетевых сбоях, система может разделиться на 2 раздельных кластера** -  PA/EL  

- **Система может не прислать корректный ответ или сбросить соединение** - PC/EC  

### ДОРАБОТКА 

## Задача 2.1

Как обеспечить согласованность системы, если данные на узлах записываются с большой задержкой?

```
Для этого необходимо, чтобы транзакция коммитилась на master-сервере только после того, как она будет записана на всех slave-серверах.
```

## Задача 2.2

Мы знаем только то, что система устойчива к разделению, т.е. типа P, дальше возможны варианты, пожалуйста, перечислите их.

```
Система может быть либо консистентной, либо доступной. Если я правильно понял вопрос... 
```

## Задача 3  

BASE и ACID не могут сочетаться в одной системе, так как BASE ориентирован на производительность системы (доступность), а ACID на сохранность данных(стойкость к разделению и сохранность данных). Согласно CAP-теореме системы с такими качествами будут находиться на разных ребрах треугольника.  

## Задача 4  

Redis - это СУБД типа key-value, которая может использоваться для реализации кэшей, брокеров сообщений (механизм pub/sub), ориентирована на высокую производительность. В отличие от классических key-value систем позволяет хранить значения ключей не только в виде строк, но и в виде списков, хэш-таблиц, упорядоченных множеств. Redis хранит базу данных в опреативной памяти, из-за этого, если система не имеет реплик, возможны потери части данных при падении сервера, но Redis снабжена механизмами снимков и журналирования для обеспечения постоянного хранения (на дисках, твердотельных накопителях). Недостатком системы репликации Redis является то, что сама по себе она не поддерживает автоматическую отказоустойчивость: если ведущий узел выходит из строя, необходимо вручную выбрать нового ведущего среди ведомых узлов. Но имеется система Redis Sentinel, обеспечивающая мониторинг и автоматическое переключение.  
